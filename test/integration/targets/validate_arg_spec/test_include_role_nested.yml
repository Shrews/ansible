---
- name: "Running include_role role_that_includes_role"
  hosts: localhost
  gather_facts: false
  vars:
    foo: bar

  tasks:
    - name: "include the role 'role_that_includes_role'"
      block:
        - include_role:
            name: role_that_includes_role
      rescue:
        - name: show ansible_failed_result
          debug:
            var: ansible_failed_result

- name: "Running include_role role_that_includes_role with a tasks_from"
  hosts: localhost
  gather_facts: false
  vars:

  tasks:
    - name: "include the role 'role_that_includes_role' using tasks_from other.yml'"
      include_role:
        name: role_that_includes_role
        tasks_from: other.yml
      vars:
        some_json: |
          '{[1, 3, 3] 345345|45v<#!}'
        some_jsonarg: |
          {"foo": [1, 3, 3]}
        hostname: "somehostname.example.com"
        some_required_str: "some required str value "

- name: "Running import_role role_that_includes_role with a tasks_from"
  hosts: localhost
  gather_facts: false
  vars:

  tasks:
    - name: "import the role 'role_that_includes_role' using tasks_from other.yml'"
      block:
        - import_role:
            name: role_that_includes_role
            tasks_from: other.yml
          vars:
            hostname: "somehostname.example.com"
            some_required_str: "some required str value "
      rescue:
        - name: show ansible_failed_result
          debug:
            var: ansible_failed_result
